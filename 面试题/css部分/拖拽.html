<!--
 * @Description: 
 * @version: 
 * @Author: zouwenqin
 * @Date: 2023-07-02 18:13:37
 * @LastEditors: zouwenqin
 * @LastEditTime: 2023-07-03 00:18:42
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .container {
            position: absolute;
            height: 400px;
            width: 400px;
            left: 100px;
        }

        .box {
            position: absolute;
            left: 0;
            width: 100px;
            height: 100px;
            background-color: rebeccapurple;
        }

        .box1 {
            left: 100px;
            top: 100px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="box box1"></div>
    </div>
    <script src="./drag.js"></script>
    <script>
        const start = document.querySelector('#start');
        const element = [].slice.call(document.getElementsByClassName('box'))[0];
        drag(element)();

        function getPagePos(e) {
            const [
                sLeft,
                sTop
            ] = getScrolllOffset();

            // 文档偏移值
            const cLeft = document.documentElement.clientLeft || 0;
            const cTop = document.documentElement.clientTop || 0;
            return [
                e.clientX + sLeft - cLeft,
                e.clientY + sTop - cTop
            ]
        }

        // 获取页面x轴和y轴滚动的像素
        function getScrolllOffset() {
            if (window.pageXOffset) {
                return [
                    window.pageXOffset,
                    window.pageYOffset
                ]
            } else {
                return [
                    document.body.scrollLeft + document.documentElement.offsetLeft,
                    document.body.scrollTop + document.documentElement.offsetTop
                ]
            }
        }

        function getStyles(dom, prop) {
            if (window.getComputedStyle) {
                if (prop) {
                    return window.getComputedStyle(dom, null)[prop];
                } else {
                    return window.getComputedStyle(dom, null);
                }
            } else {
                if (prop) {
                    return dom.currentStyle[prop];
                } else {
                    return dom.currentStyle;
                }
            }
        }
    </script>
</body>

</html>